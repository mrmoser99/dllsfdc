[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a2W1I000000STnVUAW"},"Id":"a2W1I000000STnVUAW","Name":"LeaseFinAmtPricing","skuid__Type__c":"Desktop","skuid__UniqueId__c":"clOriginate_LeaseFinAmtPricing","skuid__Module__c":"clOriginate","skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"\" personalizationmode=\"server\" showsidebar=\"true\" showheader=\"true\"><models><model id=\"PricingAppModel\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" type=\"\" doclone=\"\" sobject=\"genesis__Applications__c\" datasource=\"salesforce\"><fields><field id=\"Id\"/><field id=\"genesis__Number_of_Pieces_of_Equipment__c\"/><field id=\"genesis__Collateral_Value__c\"/><field id=\"genesis__Estimated_Selling_Price__c\"/><field id=\"genesis__Warranty_Amount__c\"/><field id=\"genesis__Fees_Amount__c\"/><field id=\"genesis__Other_Financed_fees__c\"/><field id=\"genesis__Total_Dealer_Price__c\"/><field id=\"genesis__Total_Cash_Due_from_Customer__c\"/><field id=\"genesis__Down_Payment__c\"/><field id=\"genesis__Additional_Cash_Required__c\"/><field id=\"genesis__Tax_Amount__c\"/><field id=\"BlankField\" uionly=\"true\" displaytype=\"TEXT\" label=\"\" readonly=\"true\" length=\"1\"/><field id=\"genesis__Financed_Amount__c\"/><field id=\"genesis__Customer_Cash_Used_For__c\"/><field id=\"genesis__Terms_Selected__c\"/><field id=\"genesis__Payment_Amount__c\"/><field id=\"genesis__Documentation_Charges__c\"/><field id=\"genesis__Required_Customer_Cash__c\"/><field id=\"genesis__Cash_Collected_By_Dealer__c\"/><field id=\"genesis__Total_Dealer_Payable__c\"/><field id=\"Name\"/><field id=\"PTotalDealerCharges\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Total Dealer Charges\" readonly=\"true\" returntype=\"CURRENCY\" precision=\"9\" scale=\"2\"><formula>{{genesis__Estimated_Selling_Price__c}}+{{genesis__Warranty_Amount__c}}+{{genesis__Fees_Amount__c}}+{{genesis__Tax_Amount__c}}</formula></field><field id=\"genesis__Pricing_Method__c\"/><field id=\"genesis__Term__c\"/><field id=\"genesis__Yield__c\"/><field id=\"YieldOrPayments\" uionly=\"true\" displaytype=\"BOOLEAN\" label=\"Calculate Yield\" precision=\"9\" scale=\"2\" defaultValue=\"true\"/><field id=\"genesis__Status__c\"/><field id=\"genesis__Minimum_Cash_Required__c\"/><field id=\"genesis__Sales_Division__c\"/><field id=\"genesis__No_Of_Payments_Required_Upfront__c\"/><field id=\"genesis__Total_Upfront_Payments__c\"/><field id=\"genesis__Dealer_Payment_Date__c\"/><field id=\"genesis__Expected_First_Payment_Date__c\"/><field id=\"genesis__Is_Get_Yield_Enabled__c\"/><field id=\"genesis__Payment_Frequency__c\"/><field id=\"genesis__CL_Product_Name__c\"/><field id=\"genesis__CL_Product__c\"/><field id=\"genesis__CL_Product__r.Name\"/><field id=\"Purchase_Option__c\"/><field id=\"genesis__Residual_Amount__c\"/><field id=\"Rate_Factor__c\"/><field id=\"genesis__Account__c\"/><field id=\"genesis__Account__r.Name\"/><field id=\"Up_Front_Tax_Amount__c\"/><field id=\"Pre_Upfront_Tax_Payment_Amount__c\"/><field id=\"Pre_Upfront_Tax_Payment_Amount1__c\"/><field id=\"Financed_Amount_Formula__c\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/></conditions><actions><action><actions><action type=\"updateRow\" fieldmodel=\"PricingAppModel\" field=\"genesis__Total_Dealer_Price__c\" enclosevalueinquotes=\"false\" value=\"{{$Model.PricingAppModel.data.0.PTotalDealerCharges}}\"/><action type=\"updateRow\" fieldmodel=\"PricingAppModel\" field=\"genesis__Valid_Pricing_Flag__c\" enclosevalueinquotes=\"false\" value=\"true\"/><action type=\"updateRow\" fieldmodel=\"PricingAppModel\" field=\"genesis__Payment_Amount__c\" enclosevalueinquotes=\"false\" value=\"0\"/></actions><events><event>models.saved</event></events></action></actions></model><model id=\"PricingEquipModel\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"genesis__Application_Equipment__c\" doclone=\"\" datasource=\"salesforce\"><fields><field id=\"Id\"/><field id=\"Residual_Amount__c\"/><field id=\"genesis__Residual_Value__c\"/><field id=\"Name\"/><field id=\"Manufacturer__c\"/><field id=\"Manufacturer1__c\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"genesis__Application__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/></conditions><actions/></model><model id=\"LeaseAppPricingDetail\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"genesis__Application_Pricing_Detail__c\" orderby=\"genesis__Term__c ASC\" datasource=\"salesforce\"><fields><field id=\"genesis__Maximum_Financed_Amount__c\"/><field id=\"genesis__Term__c\"/><field id=\"genesis__Payment_Amount_Derived__c\"/><field id=\"genesis__Credit_Rating__c\"/><field id=\"genesis__Credit_Rating__r.Name\"/><field id=\"genesis__Payment_Frequency__c\"/><field id=\"genesis__Selected__c\"/><field id=\"genesis__Rate_Card_Setup_Detail__c\"/><field id=\"genesis__Rate_Card_Setup_Detail__r.Name\"/><field id=\"genesis__Rate_Card_Setup_Detail__r.genesis__Rate_Card_Setup_Header__r.Name\"/><field id=\"genesis__Residual_Amount__c\"/><field id=\"genesis__Residual_Percent__c\"/><field id=\"genesis__Rate_Factor__c\"/><field id=\"RateFactorUi\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Rate Factor\" ogdisplaytype=\"TEXT\" precision=\"2\" scale=\"8\" defaultvaluetype=\"fieldvalue\" readonly=\"true\" returntype=\"DOUBLE\"><formula>{{genesis__Rate_Factor__c}}</formula></field><field id=\"Payment_Start_Date__c\"/><field id=\"Payment_Amount__c\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"genesis__Application__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/></conditions><actions/></model><model id=\"PaymentStreamModel\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"genesis__Payment_Stream__c\" orderby=\"\" datasource=\"salesforce\"><fields><field id=\"genesis__Number_of_Payments__c\"/><field id=\"genesis__Payment_Amount__c\"/><field id=\"genesis__Payment_Frequency__c\"/><field id=\"genesis__Start_Date__c\"/><field id=\"genesis__Sequence__c\" overridemetadata=\"true\" ogdisplaytype=\"DOUBLE\" displaytype=\"DOUBLE\" precision=\"\" scale=\"\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"genesis__Application__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/></conditions><actions><action><actions><action type=\"updateRow\" fieldmodel=\"PaymentStreamModel\" affectedrows=\"context\" field=\"CurrencyIsoCode\" enclosevalueinquotes=\"true\" value=\"{{$Model.PricingAppModel.data.0.CurrencyIsoCode}}\"/></actions><events><event>row.created</event><event>row.updated</event></events></action></actions></model><model id=\"IsYieldEnabled\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Applications__c\"><fields><field id=\"genesis__Is_Get_Yield_Enabled__c\"/><field id=\"genesis__Yield__c\"/></fields><conditions><condition type=\"param\" value=\"Id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/></conditions><actions/></model><model id=\"SelectedPricingDetail\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"genesis__Application_Pricing_Detail__c\" orderby=\"\" datasource=\"salesforce\"><fields><field id=\"genesis__Maximum_Financed_Amount__c\"/><field id=\"genesis__Term__c\"/><field id=\"genesis__Payment_Amount_Derived__c\"/><field id=\"genesis__Credit_Rating__c\"/><field id=\"genesis__Credit_Rating__r.Name\"/><field id=\"genesis__Payment_Frequency__c\"/><field id=\"genesis__Selected__c\"/><field id=\"genesis__Rate_Card_Setup_Detail__c\"/><field id=\"genesis__Rate_Card_Setup_Detail__r.Name\"/><field id=\"genesis__Rate_Card_Setup_Detail__r.genesis__Rate_Card_Setup_Header__r.Name\"/><field id=\"genesis__Residual_Amount__c\"/><field id=\"genesis__Residual_Percent__c\"/><field id=\"genesis__Rate_Factor__c\"/><field id=\"RateFactorUi\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Rate Factor\" ogdisplaytype=\"TEXT\" precision=\"2\" scale=\"8\" defaultvaluetype=\"fieldvalue\" readonly=\"true\" returntype=\"DOUBLE\"><formula>{{genesis__Rate_Factor__c}}</formula></field></fields><conditions><condition type=\"param\" value=\"id\" field=\"genesis__Application__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/><condition type=\"fieldvalue\" value=\"true\" enclosevalueinquotes=\"false\" field=\"genesis__Selected__c\" operator=\"=\"/></conditions><actions/></model></models><components><wrapper uniqueid=\"sk-8AGPW-307\"><components><pagetitle model=\"PricingAppModel\" uniqueid=\"sk-1PT7Hn-256\"><actions><action type=\"custom\" label=\"Generate Pricing\" icon=\"sk-icon-prices\" snippet=\"GenerateInsuranceAndEPT\" uniqueid=\"sk-1QjS3V-78\" cssclass=\"\"><actions><action type=\"save\" rollbackonanyerror=\"true\"><models><model>PricingAppModel</model></models></action><action type=\"custom\" snippet=\"calculateFinancedAmount1\"/></actions><hotkeys/><renderconditions logictype=\"and\"/><enableconditions/></action></actions><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"PricingAppModel\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"genesis__CL_Product__c\" fieldtargetobjects=\"clcommon__CL_Product__c\" value=\"Operating Lease\"/></renderconditions></pagetitle><panelset type=\"vertical\" uniqueid=\"sk-1PQ3KT-123\"><panels><panel width=\"225px\" uniqueid=\"leasepricingpanelWithEq\"><components><basicfieldeditor showheader=\"true\" showsavecancel=\"true\" showerrorsinline=\"true\" model=\"PricingAppModel\" buttonposition=\"\" uniqueid=\"sk-1PQATk-135\" mode=\"edit\"><columns><column width=\"100%\"><sections><section title=\"Pricing Details\" collapsible=\"no\" showheader=\"false\"><fields><columns layoutmode=\"fixed\" uniqueid=\"sk-1QjS5k-136\"><column width=\"50%\"><sections><section title=\"LEASE DETAILS\" collapsible=\"no\" showheader=\"true\"><fields><field id=\"genesis__Estimated_Selling_Price__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" readonly=\"true\" uniqueid=\"sk-1QjS4C-95\"/><field id=\"genesis__Fees_Amount__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" readonly=\"true\" uniqueid=\"sk-1QjS4N-99\"/><field id=\"Up_Front_Tax_Amount__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"Financed_Amount_Formula__c\"/></fields></section></sections></column><column width=\"50%\"><sections><section title=\"LEASE TERM\" collapsible=\"no\" showheader=\"true\"><fields><field id=\"genesis__Term__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" uniqueid=\"sk-1QjS4e-107\" readonly=\"true\"/><field id=\"genesis__Expected_First_Payment_Date__c\" valuehalign=\"\" type=\"\" uniqueid=\"sk-1QjS4c-105\" readonly=\"true\"><label>First Payment Due Date</label><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field><field id=\"genesis__Payment_Frequency__c\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"genesis__Terms_Selected__c\" valuehalign=\"\" type=\"\" readonly=\"true\" uniqueid=\"sk-1QjS4--115\"><label>Term Selected</label></field><field id=\"Pre_Upfront_Tax_Payment_Amount1__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"Pre_Upfront_Tax_Payment_Amount__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/></fields></section></sections></column></columns></fields></section></sections></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor></components></panel></panels><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" enclosevalueinquotes=\"true\" fieldmodel=\"PricingEquipModel\" sourcetype=\"modelproperty\" nosourcerowbehavior=\"deactivate\" sourceproperty=\"hasRows\"/></renderconditions></panelset></components><styles><styleitem type=\"background\" bgtype=\"color\"><styles><styleitem property=\"background-color\" value=\"white\"/></styles></styleitem><styleitem type=\"border\"/><styleitem type=\"size\"/></styles><renderconditions logictype=\"and\"/></wrapper><buttonset uniqueid=\"sk-1QVo-M-271\" model=\"PricingAppModel\" position=\"left\"><buttons><button type=\"custom\" label=\"Generate Pricing\" icon=\"sk-icon-prices\" snippet=\"calculateFinancedAmount1\"><actions><action type=\"save\" rollbackonanyerror=\"true\"><models><model>PricingAppModel</model></models></action><action type=\"custom\" snippet=\"calculateFinancedAmount1\"/></actions></button><button type=\"custom\" label=\"Finance Upfront tax\" snippet=\"Capitalize Tax\" icon=\"sk-icon-prices\"><renderconditions logictype=\"and\"><rendercondition type=\"blank\" operator=\"=\" fieldmodel=\"PricingAppModel\" sourcetype=\"fieldvalue\" field=\"genesis__Account__c\" fieldtargetobjects=\"Account\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions/></button><button type=\"custom\" label=\"One time Upfront tax\" snippet=\"Uncapitalize Tax\" icon=\"sk-icon-prices\"><renderconditions logictype=\"and\"><rendercondition type=\"blank\" operator=\"=\" fieldmodel=\"PricingAppModel\" sourcetype=\"fieldvalue\" field=\"genesis__Account__c\" fieldtargetobjects=\"Account\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions/></button><button type=\"custom\" label=\"Get Upfront Tax\" icon=\"sk-icon-prices\" snippet=\"Get Upfront Tax\"><renderconditions logictype=\"and\"><rendercondition type=\"blank\" operator=\"=\" fieldmodel=\"PricingAppModel\" sourcetype=\"fieldvalue\" field=\"genesis__Account__c\" fieldtargetobjects=\"Account\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions/></button></buttons><renderconditions logictype=\"and\"/></buttonset><wrapper uniqueid=\"sk-8BAOR-370\"><components><panelset type=\"vertical\" uniqueid=\"sk-1PdTD0-149\"><panels><panel width=\"225px\" uniqueid=\"leasepricingpanelNoEq\"><components><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"PricingAppModel\" buttonposition=\"\" uniqueid=\"sk-1PQATk-135\" mode=\"edit\" layout=\"\"><columns><column width=\"100%\"><sections><section title=\"Pricing Details\" collapsible=\"no\" showheader=\"false\"><fields><columns layoutmode=\"fixed\" uniqueid=\"sk-1QjS8e-212\"><column width=\"50%\"><sections><section title=\"LEASE DETAILS\" collapsible=\"no\" showheader=\"true\"><fields><field id=\"genesis__Estimated_Selling_Price__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" readonly=\"false\" uniqueid=\"sk-1QjS7W-175\"/><field id=\"genesis__Fees_Amount__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" readonly=\"false\" uniqueid=\"sk-1QjS7a-179\"/><field id=\"Up_Front_Tax_Amount__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"><label>Up front tax Amount 1</label></field><field id=\"Up_Front_Tax_Amount__c\"/><field id=\"BlankField\" valuehalign=\"\" type=\"\" uniqueid=\"sk-1QjS8r-221\"/><field id=\"genesis__Financed_Amount__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" readonly=\"true\" uniqueid=\"sk-1QjS8s-223\"><label>Financed Amount(=)</label></field></fields></section></sections></column><column width=\"50%\"><sections><section title=\"LEASE TERM\" collapsible=\"no\" showheader=\"true\"><fields><field id=\"genesis__Expected_First_Payment_Date__c\" uniqueid=\"sk-1QjS7n-185\" valuehalign=\"\" type=\"\"><label>First Payment Due Date</label></field><field id=\"genesis__Term__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"genesis__Terms_Selected__c\" valuehalign=\"\" type=\"\" readonly=\"false\" uniqueid=\"sk-1QjS80-191\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field></fields></section></sections></column></columns></fields></section></sections></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor></components></panel></panels><renderconditions logictype=\"and\"><rendercondition fieldmodel=\"PricingEquipModel\" sourcetype=\"modelproperty\" nosourcerowbehavior=\"deactivate\" sourceproperty=\"hasNoRows\"/></renderconditions></panelset></components><styles><styleitem type=\"background\" bgtype=\"color\"><styles><styleitem property=\"background-color\" value=\"white\"/></styles></styleitem><styleitem type=\"border\"/><styleitem type=\"size\"/></styles><renderconditions logictype=\"and\"/></wrapper><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"true\" showexportbuttons=\"true\" pagesize=\"10\" createrecords=\"false\" model=\"LeaseAppPricingDetail\" buttonposition=\"\" mode=\"readonly\" uniqueid=\"sk-1PfPnf-269\"><fields><field id=\"genesis__Selected__c\" uniqueid=\"sk-1QjS9e-238\"/><field id=\"genesis__Term__c\" uniqueid=\"sk-1QjS9n-244\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"RateFactorUi\" hideable=\"true\" uniqueid=\"fi-1DTIm6-423\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"genesis__Payment_Frequency__c\" uniqueid=\"sk-1QjS9s-248\" valuehalign=\"\" type=\"\"/><field id=\"Payment_Amount__c\" hideable=\"true\" uniqueid=\"fi-e6fR--323\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"genesis__Rate_Card_Setup_Detail__r.genesis__Rate_Card_Setup_Header__r.Name\" hideable=\"true\" uniqueid=\"fi-Ds765-296\" valuehalign=\"\" type=\"\"/><field id=\"genesis__Residual_Percent__c\" hideable=\"true\" uniqueid=\"fi-1yo4kb-309\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/></fields><rowactions/><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\"/></views><actions defaultlabel=\"Global Actions\" defaulticon=\"sk-icon-magic\" usefirstitemasdefault=\"true\"><action type=\"multi\" label=\"Select Pricing\" icon=\"fa-check\" snippet=\"selectPricingOption\"><hotkeys/><renderconditions logictype=\"and\"/><actions><action type=\"save\"><models><model>PricingAppModel</model></models></action><action type=\"custom\" snippet=\"selectPricingOption\"/></actions></action></actions><exportproperties usetablecolumns=\"true\"/><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"PricingAppModel\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"skipandnorender\" field=\"genesis__Pricing_Method__c\" value=\"RATE CARD\"/></renderconditions></skootable><panelset type=\"custom\" uniqueid=\"sk-224c4--258\" scroll=\"\"><panels><panel width=\"100%\"><components><pagetitle model=\"PricingAppModel\" uniqueid=\"sk-228Y53-385\"><actions><action type=\"multi\" label=\"Calculate Payments/Yield\" snippet=\"CalcPaymentsOrYield\" uniqueid=\"sk-1QjSAP-257\"><actions><action type=\"custom\" snippet=\"copyIsYieldEnabledValue\"/><action type=\"custom\" sfdcactionname=\"clcollect__AutoCreditPullAction1\" snippet=\"CalcPaymentsOrYield\"/></actions><hotkeys/><renderconditions logictype=\"and\"/><enableconditions/></action></actions></pagetitle><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"IsYieldEnabled\" buttonposition=\"\" uniqueid=\"sk-3E6EU9-432\" mode=\"edit\"><columns><column width=\"100%\"><sections><section title=\"Section A\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"genesis__Is_Get_Yield_Enabled__c\" valuehalign=\"\" type=\"\" uniqueid=\"sk-1QjSAe-263\"><label>Calculate Yield</label></field><field id=\"genesis__Yield__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" readonly=\"true\" uniqueid=\"sk-1QjSAf-265\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"IsYieldEnabled\" sourcetype=\"fieldvalue\" field=\"genesis__Is_Get_Yield_Enabled__c\" value=\"true\"/></renderconditions><enableconditions/></field></fields></section></sections></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor><basicfieldeditor showheader=\"true\" showsavecancel=\"true\" showerrorsinline=\"true\" model=\"PricingAppModel\" buttonposition=\"\" uniqueid=\"sk-227-9Z-294\" mode=\"read\"><columns><column width=\"100%\"><sections><section title=\"Calculate Payments\" collapsible=\"no\"><fields><field id=\"genesis__Term__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" uniqueid=\"sk-1QjSAv-271\"/><field id=\"genesis__Yield__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" uniqueid=\"sk-1QjSAx-273\"/><field id=\"genesis__Payment_Amount__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" readonly=\"true\" uniqueid=\"sk-1QjSB4-275\"/></fields></section></sections></column></columns><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"!=\" enclosevalueinquotes=\"false\" fieldmodel=\"IsYieldEnabled\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"skipandnorender\" field=\"genesis__Is_Get_Yield_Enabled__c\" value=\"true\"/></renderconditions></basicfieldeditor></components></panel></panels><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"!=\" enclosevalueinquotes=\"true\" fieldmodel=\"PricingAppModel\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"skipandnorender\" field=\"genesis__Pricing_Method__c\" value=\"RATE CARD\"/></renderconditions></panelset><skootable showconditions=\"true\" showsavecancel=\"true\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"true\" showexportbuttons=\"false\" pagesize=\"10\" createrecords=\"true\" model=\"PaymentStreamModel\" buttonposition=\"\" mode=\"read\" uniqueid=\"sk-1J_Qus-259\" emptysearchbehavior=\"query\"><fields><field id=\"genesis__Sequence__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" allowordering=\"true\" uniqueid=\"fi-3CzwS9-679\"/><field id=\"genesis__Number_of_Payments__c\" uniqueid=\"fi-3CzwS9-680\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"genesis__Payment_Amount__c\" uniqueid=\"fi-3CzwS9-681\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"genesis__Payment_Frequency__c\" uniqueid=\"fi-3CzwS9-682\"/><field id=\"genesis__Start_Date__c\" valuehalign=\"\" type=\"\" uniqueid=\"fi-3CzwS9-683\"/></fields><rowactions><action type=\"edit\"/><action type=\"delete\"/></rowactions><massactions usefirstitemasdefault=\"true\"><action type=\"massupdate\"/><action type=\"massdelete\"/></massactions><views><view type=\"standard\"/><view type=\"standard\"/></views><renderconditions logictype=\"or\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"IsYieldEnabled\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"skipandnorender\" field=\"genesis__Is_Get_Yield_Enabled__c\" value=\"true\"/></renderconditions><searchfields/></skootable></components><resources><labels/><javascript><jsitem name=\"CLSNGUIComponent\" url=\"\" filepath=\"messageUtils.js\" namespace=\"genesisExtn\" cachelocation=\"false\" location=\"staticresource\">var params = arguments[0],\n            \t$ = skuid.$;\n            </jsitem><jsitem location=\"external\" name=\"Apex AJAX Toolkit\" cachelocation=\"false\" url=\" /soap/ajax/29.0/apex.js \">var params = arguments[0],\n  $ = skuid.$;\n</jsitem><jsitem location=\"external\" name=\"Connection JS\" cachelocation=\"false\" url=\"/soap/ajax/29.0/connection.js\">var params = arguments[0],\n  $ = skuid.$;\n</jsitem><jsitem location=\"inlinesnippet\" name=\"calculateFinancedAmount\" cachelocation=\"false\">var pricingAppModel = skuid.model.getModel('PricingAppModel');\nvar pricingAppRow = pricingAppModel.data[0]; \n\nvar result = sforce.apex.execute('genesis.SkuidPricingCtrl','generatePricing',\n{   \n        applicationId : pricingAppRow.Id\n});\nalert(result);\nwindow.location.reload();\n</jsitem><jsitem location=\"inlinesnippet\" name=\"selectPricingOption\" cachelocation=\"false\">var records = skuid.$.map(arguments[0].list.getSelectedItems(),function(item){ \n        return item.row; \n    }); \nif ( !records[0]  || records.length &lt; 1) { \n    alert(\"Please select at least one pricing option\"); \n}else if(records  &amp;&amp; records.length &gt; 1){\n    alert(\"Please select at only one pricing option\"); \n} else{ \n    var result = sforce.apex.execute('genesis.SelectPricingOnApplication','selectPricingOption',\n    {   \n            pricingId : records[0].Id\n    });\n    \n    \n    var selectedPricingModel = skuid.model.getModel('SelectedPricingDetail');\n    var applicationModel = skuid.model.getModel('PricingAppModel');\n    var applicationEquipmentModel = skuid.model.getModel('PricingEquipModel');\n    \n    skuid.model.updateData([selectedPricingModel, applicationEquipmentModel, applicationModel], function(){\n        //update residual value on each equipment\n        $.each(applicationEquipmentModel.data,function(i,row) {\n            applicationEquipmentModel.updateRow(row,{ genesis__Residual_Value__c : selectedPricingModel.data[0].genesis__Residual_Percent__c});\n        });\n        \n        // update rate factor on application\n        applicationModel.updateRow(applicationModel.data[0], { Rate_Factor__c : selectedPricingModel.data[0].genesis__Rate_Factor__c});\n        \n        // save changes\n        skuid.model.save([applicationEquipmentModel, applicationModel]);\n        closeTopLevelDialogAndRefresh({iframeIds: ['deal-dashboard-iframe']});\n        \n\n    });\n}\n</jsitem><jsitem location=\"inlinesnippet\" name=\"calculateFinancedAmount1\" cachelocation=\"false\">var pricingAppModel = skuid.model.getModel('PricingAppModel');\nvar pricingAppRow = pricingAppModel.data[0]; \n\n// Upfront Tax Calculation \nvar resultvrtx = sforce.apex.execute('VertexUpfrontTaxCalculation','VertexGetUpfrontTax',\n{   \n        applicationid : pricingAppRow.Id\n}); \n\n\nif(resultvrtx == 'false')\n{\n    alert('Tax Calculation not Processed because one or more Equipment has No Installation Address.');\n}\nelse if(resultvrtx == 'true')  \n{\n    alert('Tax Calculation Processed Successfully');\n\nvar result = sforce.apex.execute('genesis.SkuidPricingCtrl','generatePricing',\n{   \n        applicationId : pricingAppRow.Id\n});\n\n// Update pricing status\npricingAppModel.updateRow({\n    Id: pricingAppRow.Id\n}, {\n    genesis__Status__c: \"NEW - PRICING GENERATED\"\n});\n\n// Save updates\npricingAppModel.save({\n    callback: function (result) {\n        if (result.totalsuccess) {\n             //alert('New Quote Id: ' + appRow.Id); \n        } else {\n            alert('Error: ' + result.insertResults[0]); \n            console.log(result.insertResults[0]);          \n        }\n    }\n});\n\nalert(result);\n\n//        alert(pricingAppRow['Purchase_Option__c']);\n\nif(pricingAppRow['Purchase_Option__c'] != 'One Dollar Buyout')        \nvar result1 = sforce.apex.execute('calculateEstPropertyTax','func_calcEPT',\n{   \n        applicationId : pricingAppRow.Id\n});\n\nvar result2 = sforce.apex.execute('CalculateInsurance','GetInsuranceAmount',\n{   \n        applicationid : pricingAppRow.Id\n});\n\nif(pricingAppRow['Purchase_Option__c'] != 'One Dollar Buyout') \nalert('Insurance generation '+result2+ ' and EPT generation '+result1);\nelse\nalert('Insurance generation '+result2);\n\nconsole.log('trying to reload');\n\ncloseTopLevelDialogAndRefresh({iframeIds: ['deal-dashboard-iframe']});\n//window.location.reload();\n}</jsitem><jsitem location=\"inlinesnippet\" name=\"CalcPaymentsOrYield\" cachelocation=\"false\">var $ = skuid.$\nvar pageTitle = $('#sk-228Y53-385');\nvar editor = pageTitle.data('object').editor;\n\nvar pricingAppModel = skuid.model.getModel('PricingAppModel');\nvar pricingAppRow = pricingAppModel.data[0];\n\n/*\n* Added IsYieldEnabled Model to check for which choiceNo to send based on selected checkbox genesis__Is_Get_Yield_Enabled__c \n*/\nvar isYieldEnabledModel = skuid.model.getModel('IsYieldEnabled'); \nvar isYieldEnabledRow = isYieldEnabledModel.data[0];\n\nvar pAppObj = new sforce.SObject(\"genesis__Applications__c\");\nfor(var key in pricingAppRow) {\n   if(key.includes('__c') || key === 'Id'|| key === 'Name') {\n       pAppObj[key] = pricingAppRow[key];\n   }    \n}\n\nvar choiceNo = 1;\nif( ! isYieldEnabledRow['genesis__Is_Get_Yield_Enabled__c'] ){\n    choiceNo = 2;\n}\n\nvar result = sforce.apex.execute('genesis.SkuidPricingCtrl','calculatePricingFactors',\n{   \n        application : pAppObj,\n        choice : choiceNo\n});\n\nif(result == 'Successfully computed...'){\n    \n    /* \n    Added extra if else to check against choiceNo to display whether yield/payment is \n    succesfully computed. Earlier in both cases only \"yield calculated succesfully\" was getting displayed\n    */\n    \n    if(choiceNo == 1){\n        editor.handleMessages( \n       [{\n          \n           message: 'Yield Calculated Successfully', \n           severity: 'INFO'\n       }]\n    )} else {\n        editor.handleMessages( \n       [{\n          \n           message: 'Payment Calculated Successfully', \n           severity: 'INFO'\n       }]\n    )}\n} else {\n    editor.handleMessages(\n        [{\n              message: result,\n              severity: 'ERROR'\n        }]\n    );\n}\nwindow.location.reload();</jsitem><jsitem location=\"inlinesnippet\" name=\"copyIsYieldEnabledValue\" cachelocation=\"false\">/*\n*  Purpose: Used to save rendering field in application object using different model name\n*  Where  : Calculating Financial Amount / yield button\n*\n* @name   : editSaveForCalcFinanceAmt.js\n* @author : Ashish Kumar Singh\n* @version: 1.0\n* @since  : 15-03-2017\n*/\nvar isYieldEnabledModel = skuid.model.getModel('IsYieldEnabled'); \nvar isYieldEnabledRow = isYieldEnabledModel.data[0];\n\nconsole.log('isYieldEnabledRow ',isYieldEnabledRow);\nisYieldEnabledModel.save();\n</jsitem><jsitem location=\"inlinesnippet\" name=\"GenerateInsuranceAndEPT\" cachelocation=\"false\">var PriAppModel = skuid.model.getModel('PricingAppModel');\n\nvar PriAppRow = PriAppModel.data[0];\n\nconsole.log(PriAppRow.id);\nvar result = sforce.apex.execute('CalculateInsurance','GetInsuranceAmount',\n{   \n        applicationid : PriAppRow.Id\n});\n//alert('Insurance generation '+result);\n\nvar result1 = sforce.apex.execute('calculateEstPropertyTax','func_calcEPT',\n{   \n        applicationId : PriAppRow.Id\n});\nalert('Insurance and EPT generation '+result1);\n\nwindow.location.reload();\n</jsitem><jsitem location=\"inlinesnippet\" name=\"Capitalize Tax\" cachelocation=\"false\">var PriAppModel = skuid.model.getModel('PricingAppModel');\nvar PriAppRow = PriAppModel.data[0];\n\n//console.log(PriAppRow.id);\n//commenting out the apex call as requested by Sophie (DLL) \n/*\nvar result = sforce.apex.execute('CapitalizeTax','CapitalizeTax',\n{   \n        applicationid : PriAppRow.Id, response :'YES'\n});\nalert('Please recalculate lease pricing as upfront tax amount added to financed amount')\nwindow.location.reload();\n\n*/</jsitem><jsitem location=\"inlinesnippet\" name=\"Uncapitalize Tax\" cachelocation=\"false\">var PriAppModel = skuid.model.getModel('PricingAppModel');\nvar PriAppRow = PriAppModel.data[0];\n\n//console.log(PriAppRow.id);\n//commenting out the apex call as requested by Sophie (DLL)\n/*\nvar result = sforce.apex.execute('CapitalizeTax','CapitalizeTax',\n{   \n        applicationid : PriAppRow.Id, response :'NO'\n});\nalert('New Application Fees created')\nwindow.location.reload();\n*/</jsitem><jsitem location=\"inlinesnippet\" name=\"Get Upfront Tax\" cachelocation=\"false\">var PriAppModel = skuid.model.getModel('PricingAppModel');\nvar PriAppRow = PriAppModel.data[0];\n\n//console.log(PriAppRow.id);\n//commenting out the apex call as requested by Sophie (DLL)\n/*\nvar result = sforce.apex.execute('VertexGetUpfrontTax','VertexGetUpfrontTax',\n{   \n        applicationid : PriAppRow.Id\n});\n\nalert('please click \"Finance Upfront Tax\" or \"One Time Upfront Tax\"');\n\nwindow.location.reload();\n*/</jsitem></javascript><css/></resources><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]